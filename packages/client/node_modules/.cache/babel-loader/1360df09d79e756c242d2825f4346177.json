{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/aristofanischionis/Desktop/University/Winter semester/\\u0395\\u0391\\u039C/ergasia 3/ministry-of-labor-and-social-affairs/packages/client/src/components/auth/Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Form, Message, Segment, Grid, Header } from \"semantic-ui-react\";\nimport axios from 'axios';\nimport history from \"../../utils/history\";\nimport { setUserSession } from '../../utils/Common'; // TODO: Add more fields like First/Last name, in greek\n// send request to db to verify\n// error message if something is wrong\n\nexport default function Register() {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState(''); // check if these two are same\n\n  const [confPassword, setConfPassword] = useState('');\n  const [first_name, setFirstName] = useState('');\n  const [last_name, setLastName] = useState('');\n  const [error, setError] = useState(null); // handle button click of login form\n\n  const handleLogin = () => {\n    // check passwoards match\n    // TODO: show an ERROR message\n    if (password !== confPassword) {\n      setError(true);\n      return;\n    }\n\n    setError(null);\n    setLoading(true);\n    axios.post('http://localhost:3001/api/register', {\n      first_name: first_name,\n      last_name: last_name,\n      email: email,\n      password: password\n    }).then(response => {\n      setLoading(false);\n      setUserSession(response.data.token, response.data.user); // when the user logs in goes to /Home, \n      // TODO: Try this again\n      // history.push('/');\n    }).catch(error => {\n      setLoading(false);\n      if (error.response.status === 401) setError(error.response.data.message);else setError(\"Something went wrong. Please try again later.\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Segment, {\n    style: {\n      padding: '6em 4em'\n    },\n    vertical: true,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      centered: true,\n      className: \"align-text\",\n      children: /*#__PURE__*/_jsxDEV(Grid.Column, {\n        width: 4,\n        children: /*#__PURE__*/_jsxDEV(Segment, {\n          raised: true,\n          children: [/*#__PURE__*/_jsxDEV(Form, {\n            loading: loading,\n            children: [/*#__PURE__*/_jsxDEV(Header, {\n              as: \"h2\",\n              color: \"black\",\n              textAlign: \"center\",\n              children: \"\\u0395\\u03B3\\u03B3\\u03C1\\u03B1\\u03C6\\u03B5\\u03AF\\u03C4\\u03B5 \\u03B5\\u03B4\\u03CE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n              fluid: true,\n              icon: \"user\",\n              iconPosition: \"left\",\n              placeholder: \"\\u038C\\u03BD\\u03BF\\u03BC\\u03B1\",\n              onChange: e => setFirstName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n              fluid: true,\n              icon: \"user\",\n              iconPosition: \"left\",\n              placeholder: \"\\u0395\\u03C0\\u03CE\\u03BD\\u03C5\\u03BC\\u03BF\",\n              onChange: e => setLastName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n              fluid: true,\n              icon: \"mail\",\n              iconPosition: \"left\",\n              placeholder: \"\\u0394\\u03B9\\u03B5\\u03CD\\u03B8\\u03C5\\u03BD\\u03C3\\u03B7 e-mail\",\n              onChange: e => setEmail(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n              fluid: true,\n              icon: \"lock\",\n              iconPosition: \"left\",\n              placeholder: \"\\u039A\\u03C9\\u03B4\\u03B9\\u03BA\\u03CC\\u03C2\",\n              type: \"password\",\n              onChange: e => setPassword(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n              fluid: true,\n              icon: \"lock\",\n              iconPosition: \"left\",\n              placeholder: \"\\u0395\\u03C0\\u03B9\\u03B2\\u03B5\\u03B2\\u03B1\\u03B9\\u03CE\\u03C3\\u03C4\\u03B5 \\u03C4\\u03BF\\u03BD \\u03BA\\u03C9\\u03B4\\u03B9\\u03BA\\u03CC\",\n              type: \"password\",\n              onChange: e => setConfPassword(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              color: \"teal\",\n              fluid: true,\n              size: \"huge\",\n              onClick: handleLogin,\n              disabled: loading,\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/\",\n                children: \"\\u0395\\u03B3\\u03B3\\u03C1\\u03B1\\u03C6\\u03AE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Message, {\n            size: \"big\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/login\",\n              children: \"\\u0388\\u03C7\\u03B5\\u03C4\\u03B5 \\u03AE\\u03B4\\u03B7 \\u03BB\\u03BF\\u03B3\\u03B1\\u03C1\\u03B9\\u03B1\\u03C3\\u03BC\\u03CC;\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Register, \"21DafM3/dfQSCTU4alcWpC4IhJo=\");\n\n_c = Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["/Users/aristofanischionis/Desktop/University/Winter semester/ΕΑΜ/ergasia 3/ministry-of-labor-and-social-affairs/packages/client/src/components/auth/Register.js"],"names":["React","useState","Link","Button","Form","Message","Segment","Grid","Header","axios","history","setUserSession","Register","loading","setLoading","email","setEmail","password","setPassword","confPassword","setConfPassword","first_name","setFirstName","last_name","setLastName","error","setError","handleLogin","post","then","response","data","token","user","catch","status","message","padding","e","target","value"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Form, Message, Segment, Grid, Header } from \"semantic-ui-react\";\nimport axios from 'axios';\nimport history from \"../../utils/history\"\nimport { setUserSession } from '../../utils/Common';\n// TODO: Add more fields like First/Last name, in greek\n// send request to db to verify\n// error message if something is wrong\nexport default function Register() {\n  const [loading, setLoading] = useState(false);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  // check if these two are same\n  const [confPassword, setConfPassword] = useState('');\n  const [first_name, setFirstName] = useState('');\n  const [last_name, setLastName] = useState('');\n  const [error, setError] = useState(null);\n\n  // handle button click of login form\n  const handleLogin = () => {\n    // check passwoards match\n    // TODO: show an ERROR message\n    if (password !== confPassword) {\n      setError(true)\n      return;\n    }\n    setError(null);\n    setLoading(true);\n    axios.post('http://localhost:3001/api/register', { first_name: first_name, last_name: last_name, email: email, password: password }).then(response => {\n      setLoading(false);\n      setUserSession(response.data.token, response.data.user);\n      // when the user logs in goes to /Home, \n      // TODO: Try this again\n      // history.push('/');\n    }).catch(error => {\n      setLoading(false);\n      if (error.response.status === 401) setError(error.response.data.message);\n      else setError(\"Something went wrong. Please try again later.\");\n    });\n  }\n\n  return (\n    <Segment style={{ padding: '6em 4em' }} vertical>\n      <Grid centered className=\"align-text\">\n        <Grid.Column width={4}>\n          <Segment raised>\n          {/* <img src={logo} alt=\"Logo\" className=\"auth-logo\" /> */}\n            <Form loading={loading}>\n              <Header as=\"h2\" color=\"black\" textAlign=\"center\">Εγγραφείτε εδώ</Header>\n              <Form.Input\n                fluid\n                icon=\"user\"\n                iconPosition=\"left\"\n                placeholder=\"Όνομα\"\n                onChange={e => setFirstName(e.target.value)}\n              />\n              <Form.Input\n                fluid\n                icon=\"user\"\n                iconPosition=\"left\"\n                placeholder=\"Επώνυμο\"\n                onChange={e => setLastName(e.target.value)}\n              />\n              <Form.Input\n                fluid\n                icon=\"mail\"\n                iconPosition=\"left\"\n                placeholder=\"Διεύθυνση e-mail\"\n                onChange={e => setEmail(e.target.value)}\n              />\n              <Form.Input\n                fluid\n                icon=\"lock\"\n                iconPosition=\"left\"\n                placeholder=\"Κωδικός\"\n                type=\"password\"\n                onChange={e => setPassword(e.target.value)}\n              />\n              <Form.Input\n                fluid\n                icon=\"lock\"\n                iconPosition=\"left\"\n                placeholder=\"Επιβεβαιώστε τον κωδικό\"\n                type=\"password\"\n                onChange={e => setConfPassword(e.target.value)}\n              />\n              <Button color=\"teal\" fluid size=\"huge\" onClick={handleLogin} disabled={loading}>\n                <Link to=\"/\">Εγγραφή</Link>\n              </Button>\n            </Form>\n            <Message size=\"big\">\n              <Link to=\"/login\">Έχετε ήδη λογαριασμό;</Link>\n            </Message>\n          </Segment>\n        </Grid.Column>\n      </Grid>\n    </Segment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}